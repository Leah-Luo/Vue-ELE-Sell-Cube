{"remainingRequest":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/thread-loader/dist/cjs.js!/Users/LXIN/Desktop/vue-sell-cube/node_modules/babel-loader/lib/index.js??ref--16-2!/Users/LXIN/Desktop/vue-sell-cube/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/LXIN/Desktop/vue-sell-cube/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/LXIN/Desktop/vue-sell-cube/src/components/shop-cart/shop-cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/LXIN/Desktop/vue-sell-cube/src/components/shop-cart/shop-cart.vue","mtime":1612243582794},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEJ1YmJsZSBmcm9tICdjb21wb25lbnRzL2J1YmJsZS9idWJibGUnOwp2YXIgQkFMTF9MRU4gPSAxMDsKdmFyIGlubmVyQ2xzSG9vayA9ICdpbm5lci1ob29rJzsgLy8g5bCP55CD5Yqo55S75oCd6Lev77yaCi8vIOi/memHjOmcgOimgemHjee7mOeahOWOn+WboOaYr++8muWwj+eQg+acrOi6q+eahOS9jee9ruWcqOi0reeJqeahhuS4re+8jOS4uuS6huWunueOsOS7juWKoOWPt+S9jee9ruaKm+eJqee6v+S4i+iQveeahOaViOaenO+8jOWFiOaKiuWwj+eQg+enu+WKqOWIsOS6huWKoOWPt+S9jee9ru+8jAovLyDnhLblkI7lho3mjInnhafkuIDlrprnvJPliqjnmoTliqjnlLvnp7vlm57otK3nianovabljp/lp4vkvY3nva7vvIzlm6DkuLrlsI/nkIPmlbTkuKrliqjnlLvmmK/lhYjku47otK3nianovabnp7votbDlho3lm57otK3nianovabvvIzmlbTkuKrov4fnqIvmmK/lnKjkuIDkuKogdGljayDlhoXlrozmiJDnmoTvvIzlpoLmnpzkuK3pgJTkuI3lvLrliLbph43nu5jvvIzmtY/op4jlmajkvJrorqTkuLrov5nkuKrliqjnlLvmmK/ml6DmlYjnmoTvvIzlsLHkuI3kvJrkuqfnlJ/liqjnlLsKLy8g5aaC5p6c5LiA5Liq5YWD57Sg5ZCM5pe25YGa5qiq5ZCR5ZKM57q15ZCR5Yqo55S777yM6YKj5LmI5Y+g5Yqg5Ye65p2l55qE5pWI5p6c5piv5Ye65LiN5p2l5oqb54mp57q/55qECi8vIOWBh+iuvui0reeJqei9puS4uuevruWtkO+8jOmHjOmdouW3suaciTEw5Liq5bCP55CD77yM54q25oCB5Li65LiN5pi+56S6KHNob3cgZmFsc2UpCgpmdW5jdGlvbiBjcmVhdGVCYWxscygpIHsKICB2YXIgYmFsbHMgPSBbXTsKCiAgZm9yICh2YXIgaSA9IDA7IGkgPCBCQUxMX0xFTjsgaSsrKSB7CiAgICBiYWxscy5wdXNoKHsKICAgICAgc2hvdzogZmFsc2UKICAgIH0pOwogIH0KCiAgcmV0dXJuIGJhbGxzOwp9CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3Nob3AtY2FydCcsCiAgcHJvcHM6IHsKICAgIHNlbGVjdEZvb2RzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0sCiAgICBkZWxpdmVyeVByaWNlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIG1pblByaWNlOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMAogICAgfSwKICAgIHN0aWNreTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGZvbGQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGJhbGxzOiBjcmVhdGVCYWxscygpLAogICAgICBsaXN0Rm9sZDogdGhpcy5mb2xkCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZHJvcEJhbGxzID0gW107CiAgfSwKICBjb21wdXRlZDogewogICAgdG90YWxQcmljZTogZnVuY3Rpb24gdG90YWxQcmljZSgpIHsKICAgICAgdmFyIHRvdGFsID0gMDsKICAgICAgdGhpcy5zZWxlY3RGb29kcy5mb3JFYWNoKGZ1bmN0aW9uIChmb29kKSB7CiAgICAgICAgdG90YWwgKz0gZm9vZC5wcmljZSAqIGZvb2QuY291bnQ7CiAgICAgIH0pOwogICAgICByZXR1cm4gdG90YWw7CiAgICB9LAogICAgdG90YWxDb3VudDogZnVuY3Rpb24gdG90YWxDb3VudCgpIHsKICAgICAgdmFyIGNvdW50ID0gMDsKICAgICAgdGhpcy5zZWxlY3RGb29kcy5mb3JFYWNoKGZ1bmN0aW9uIChmb29kKSB7CiAgICAgICAgY291bnQgKz0gZm9vZC5jb3VudDsKICAgICAgfSk7CiAgICAgIHJldHVybiBjb3VudDsKICAgIH0sCiAgICBwYXlEZXNjOiBmdW5jdGlvbiBwYXlEZXNjKCkgewogICAgICBpZiAodGhpcy50b3RhbFByaWNlID09PSAwKSB7CiAgICAgICAgcmV0dXJuICJcdUZGRTUiLmNvbmNhdCh0aGlzLm1pblByaWNlLCAiXHU1MTQzXHU4RDc3XHU5MDAxIik7CiAgICAgIH0gZWxzZSBpZiAodGhpcy50b3RhbFByaWNlIDwgdGhpcy5taW5QcmljZSkgewogICAgICAgIHZhciBkaWZmID0gdGhpcy5taW5QcmljZSAtIHRoaXMudG90YWxQcmljZTsKICAgICAgICByZXR1cm4gIlx1OEZEOFx1NURFRVx1RkZFNSIuY29uY2F0KGRpZmYsICJcdTUxNDNcdThENzdcdTkwMDEiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ+WOu+e7k+eulyc7CiAgICAgIH0KICAgIH0sCiAgICBwYXlDbGFzczogZnVuY3Rpb24gcGF5Q2xhc3MoKSB7CiAgICAgIGlmICghdGhpcy50b3RhbENvdW50IHx8IHRoaXMudG90YWxQcmljZSA8IHRoaXMubWluUHJpY2UpIHsKICAgICAgICByZXR1cm4gJ25vdC1lbm91Z2gnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnZW5vdWdoJzsKICAgICAgfQogICAgfQogIH0sCiAgLy8g5YiX6KGo5pS26LW3IOWxleW8gAogIC8vIGxpc3RGb2xkIOm7mOiupOS4umZhbHNlIO+8iOS4jeWxleW8gO+8iQogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZUxpc3Q6IGZ1bmN0aW9uIHRvZ2dsZUxpc3QoKSB7CiAgICAgIGlmICh0aGlzLmxpc3RGb2xkKSB7CiAgICAgICAgaWYgKCF0aGlzLnRvdGFsQ291bnQpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIHRoaXMubGlzdEZvbGQgPSBmYWxzZTsKCiAgICAgICAgdGhpcy5fc2hvd1Nob3BDYXJ0TGlzdCgpOwoKICAgICAgICB0aGlzLl9zaG93U2hvcENhcnRTdGlja3koKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmxpc3RGb2xkID0gdHJ1ZTsKCiAgICAgICAgdGhpcy5faGlkZVNob3BDYXJ0TGlzdCgpOwogICAgICB9CiAgICB9LAogICAgcGF5OiBmdW5jdGlvbiBwYXkoZSkgewogICAgICBpZiAodGhpcy50b3RhbFByaWNlIDwgdGhpcy5taW5QcmljZSkgewogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy4kY3JlYXRlRGlhbG9nKHsKICAgICAgICB0aXRsZTogJ+aUr+S7mCcsCiAgICAgICAgY29udGVudDogIlx1NjBBOFx1OTcwMFx1ODk4MVx1NjUyRlx1NEVEOCIuY29uY2F0KHRoaXMudG90YWxQcmljZSwgIlx1NTE0MyIpCiAgICAgIH0pLnNob3coKTsKICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgIH0sCiAgICAvLyDmjqXmlLblj4LmlbBlbDog5oyJ6ZKu5L2N572uCiAgICAvLyBkcm9wIOWHveaVsOaYr+S7jiBiYWxscyDkuK3mib7liLDnrKzkuIDkuKogc2hvdyDkuLogZmFsc2Ug55qEIGJhbGzvvIzmlL7liLAgZHJvcEJhbGxzIOmHjOeEtuWQjuWwsSByZXR1cm4g5LqG77yM5bm25rKh5pyJ5pi+56S65omA5pyJ55CDCiAgICBkcm9wOiBmdW5jdGlvbiBkcm9wKGVsKSB7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5iYWxscy5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBiYWxsID0gdGhpcy5iYWxsc1tpXTsKCiAgICAgICAgaWYgKCFiYWxsLnNob3cpIHsKICAgICAgICAgIGJhbGwuc2hvdyA9IHRydWU7CiAgICAgICAgICBiYWxsLmVsID0gZWw7CiAgICAgICAgICB0aGlzLmRyb3BCYWxscy5wdXNoKGJhbGwpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8vIOW9k+WJjeato+WcqOWBmuWKqOeUu+eahOS4gOS4quWwj+eQg+WFg+e0oAogICAgLy8gYmVmb3JlRHJvcCDnmoTml7blgJnvvIxlbC5zdHlsZS5kaXNwbGF5IOS4uiBub25l77yM6ZyA6KaB5pi+56S655qE5oqK5a6D6K6+572u5Li6ICcnCiAgICBiZWZvcmVEcm9wOiBmdW5jdGlvbiBiZWZvcmVEcm9wKGVsKSB7CiAgICAgIHZhciBiYWxsID0gdGhpcy5kcm9wQmFsbHNbdGhpcy5kcm9wQmFsbHMubGVuZ3RoIC0gMV07CiAgICAgIHZhciByZWN0ID0gYmFsbC5lbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdmFyIHggPSByZWN0LmxlZnQgLSAzMjsKICAgICAgdmFyIHkgPSAtKHdpbmRvdy5pbm5lckhlaWdodCAtIHJlY3QudG9wIC0gMjIpOwogICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJyc7IC8vIGJlZm9yZURyb3Ag5Ye95pWw6YeM6K6+572uIHRyYW5zZm9ybSDlsLHmmK/miorlsI/nkIPku47ljp/mnKzotK3nianovabnmoTkvY3nva7np7vliqjliLDmjInpkq7kvY3nva4KCiAgICAgIGVsLnN0eWxlLnRyYW5zZm9ybSA9IGVsLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUzZCgwLCIuY29uY2F0KHksICJweCwwKSIpOwogICAgICB2YXIgaW5uZXIgPSBlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGlubmVyQ2xzSG9vaylbMF07CiAgICAgIGlubmVyLnN0eWxlLnRyYW5zZm9ybSA9IGlubmVyLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICJ0cmFuc2xhdGUzZCgiLmNvbmNhdCh4LCAicHgsMCwwKSIpOwogICAgfSwKICAgIC8vIOaJp+ihjOWujOaIkOWQjuS8muaJp+ihjGRvbmUKICAgIGRyb3BwaW5nOiBmdW5jdGlvbiBkcm9wcGluZyhlbCwgZG9uZSkgewogICAgICAvLyDpobXpnaLph43nu5gKICAgICAgdGhpcy5fcmVmbG93ID0gZG9jdW1lbnQuYm9keS5vZmZzZXRIZWlnaHQ7IC8vIOWcqCBkcm9wcGluZyDlh73mlbDlsLHmmK/miorlsI/nkIPku47mjInpkq7kvY3nva7np7vliqjliLDotK3nianovabkvY3nva4KCiAgICAgIGVsLnN0eWxlLnRyYW5zZm9ybSA9IGVsLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICd0cmFuc2xhdGUzZCgwLDAsMCknOwogICAgICB2YXIgaW5uZXIgPSBlbC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGlubmVyQ2xzSG9vaylbMF07CiAgICAgIGlubmVyLnN0eWxlLnRyYW5zZm9ybSA9IGlubmVyLnN0eWxlLndlYmtpdFRyYW5zZm9ybSA9ICd0cmFuc2xhdGUzZCgwLDAsMCknOwogICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZG9uZSk7CiAgICB9LAogICAgYWZ0ZXJEcm9wOiBmdW5jdGlvbiBhZnRlckRyb3AoZWwpIHsKICAgICAgdmFyIGJhbGwgPSB0aGlzLmRyb3BCYWxscy5zaGlmdCgpOwoKICAgICAgaWYgKGJhbGwpIHsKICAgICAgICBiYWxsLnNob3cgPSBmYWxzZTsKICAgICAgICBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOwogICAgICB9CiAgICB9LAogICAgX3Nob3dTaG9wQ2FydExpc3Q6IGZ1bmN0aW9uIF9zaG93U2hvcENhcnRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdGhpcy5zaG9wQ2FydExpc3RDb21wID0gdGhpcy5zaG9wQ2FydExpc3RDb21wIHx8IHRoaXMuJGNyZWF0ZVNob3BDYXJ0TGlzdCh7CiAgICAgICAgJHByb3BzOiB7CiAgICAgICAgICBzZWxlY3RGb29kczogJ3NlbGVjdEZvb2RzJwogICAgICAgIH0sCiAgICAgICAgJGV2ZW50czogewogICAgICAgICAgbGVhdmU6IGZ1bmN0aW9uIGxlYXZlKCkgewogICAgICAgICAgICBfdGhpcy5faGlkZVNob3BDYXJ0U3RpY2t5KCk7CiAgICAgICAgICB9LAogICAgICAgICAgaGlkZTogZnVuY3Rpb24gaGlkZSgpIHsKICAgICAgICAgICAgX3RoaXMubGlzdEZvbGQgPSB0cnVlOwogICAgICAgICAgfSwKICAgICAgICAgIGFkZDogZnVuY3Rpb24gYWRkKGVsKSB7CiAgICAgICAgICAgIF90aGlzLnNob3BDYXJ0U3RpY2t5Q29tcC5kcm9wKGVsKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnNob3BDYXJ0TGlzdENvbXAuc2hvdygpOwogICAgfSwKICAgIF9zaG93U2hvcENhcnRTdGlja3k6IGZ1bmN0aW9uIF9zaG93U2hvcENhcnRTdGlja3koKSB7CiAgICAgIHRoaXMuc2hvcENhcnRTdGlja3lDb21wID0gdGhpcy5zaG9wQ2FydFN0aWNreUNvbXAgfHwgdGhpcy4kY3JlYXRlU2hvcENhcnRTdGlja3koewogICAgICAgICRwcm9wczogewogICAgICAgICAgc2VsZWN0Rm9vZHM6ICdzZWxlY3RGb29kcycsCiAgICAgICAgICBkZWxpdmVyeVByaWNlOiAnZGVsaXZlcnlQcmljZScsCiAgICAgICAgICBtaW5QcmljZTogJ21pblByaWNlJywKICAgICAgICAgIGZvbGQ6ICdsaXN0Rm9sZCcsCiAgICAgICAgICBsaXN0OiB0aGlzLnNob3BDYXJ0TGlzdENvbXAKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLnNob3BDYXJ0U3RpY2t5Q29tcC5zaG93KCk7CiAgICB9LAogICAgX2hpZGVTaG9wQ2FydExpc3Q6IGZ1bmN0aW9uIF9oaWRlU2hvcENhcnRMaXN0KCkgewogICAgICB2YXIgbGlzdCA9IHRoaXMuc3RpY2t5ID8gdGhpcy4kcGFyZW50Lmxpc3QgOiB0aGlzLnNob3BDYXJ0TGlzdENvbXA7CiAgICAgIGxpc3QuaGlkZSAmJiBsaXN0LmhpZGUoKTsKICAgIH0sCiAgICBfaGlkZVNob3BDYXJ0U3RpY2t5OiBmdW5jdGlvbiBfaGlkZVNob3BDYXJ0U3RpY2t5KCkgewogICAgICB0aGlzLnNob3BDYXJ0U3RpY2t5Q29tcC5oaWRlKCk7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZm9sZDogZnVuY3Rpb24gZm9sZChuZXdWYWwpIHsKICAgICAgdGhpcy5saXN0Rm9sZCA9IG5ld1ZhbDsKICAgIH0sCiAgICB0b3RhbENvdW50OiBmdW5jdGlvbiB0b3RhbENvdW50KGNvdW50KSB7CiAgICAgIGlmICghdGhpcy5mb2xkICYmIGNvdW50ID09PSAwKSB7CiAgICAgICAgdGhpcy5faGlkZVNob3BDYXJ0TGlzdCgpOwogICAgICB9CiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBCdWJibGU6IEJ1YmJsZQogIH0KfTs="},{"version":3,"sources":["shop-cart.vue"],"names":[],"mappings":"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","sourcesContent":["<!--Vue 提供了 transition 的封装组件，某些情形中可以给任何元素和组件添加进入/离开过渡-->\n<template>\n  <div>\n    <div class=\"shopcart\">\n      <div class=\"content\" @click=\"toggleList\">\n        <div class=\"content-left\">\n          <div class=\"logo-wrapper\">\n            <div class=\"logo\" :class=\"{'highlight':totalCount>0}\">\n              <i class=\"icon-shopping_cart\" :class=\"{'highlight':totalCount>0}\"></i>\n            </div>\n            <div class=\"num\" v-show=\"totalCount>0\">\n              <bubble :num=\"totalCount\"></bubble>\n            </div>\n          </div>\n          <div class=\"price\" :class=\"{'highlight':totalPrice>0}\">￥{{totalPrice}}</div>\n          <div class=\"desc\">另需配送费￥{{deliveryPrice}}元</div>\n        </div>\n        <div class=\"content-right\" @click=\"pay\">\n          <div class=\"pay\" :class=\"payClass\">\n            {{payDesc}}\n          </div>\n        </div>\n      </div>\n      <div class=\"ball-container\">\n        <div v-for=\"(ball,index) in balls\" :key=\"index\">\n          <transition\n            @before-enter=\"beforeDrop\"\n            @enter=\"dropping\"\n            @after-enter=\"afterDrop\">\n            <div class=\"ball\" v-show=\"ball.show\">\n              <div class=\"inner inner-hook\"></div>\n            </div>\n          </transition>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Bubble from 'components/bubble/bubble'\n\nconst BALL_LEN = 10\nconst innerClsHook = 'inner-hook'\n\n// 小球动画思路：\n// 这里需要重绘的原因是：小球本身的位置在购物框中，为了实现从加号位置抛物线下落的效果，先把小球移动到了加号位置，\n// 然后再按照一定缓动的动画移回购物车原始位置，因为小球整个动画是先从购物车移走再回购物车，整个过程是在一个 tick 内完成的，如果中途不强制重绘，浏览器会认为这个动画是无效的，就不会产生动画\n// 如果一个元素同时做横向和纵向动画，那么叠加出来的效果是出不来抛物线的\n// 假设购物车为篮子，里面已有10个小球，状态为不显示(show false)\nfunction createBalls() {\n  let balls = []\n  for (let i = 0; i < BALL_LEN; i++) {\n    balls.push({ show: false })\n  }\n  return balls\n}\n\nexport default {\n  name: 'shop-cart',\n  props: {\n    selectFoods: {\n      type: Array,\n      default() {\n        return []\n      }\n    },\n    deliveryPrice: {\n      type: Number,\n      default: 0\n    },\n    minPrice: {\n      type: Number,\n      default: 0\n    },\n    sticky: {\n      type: Boolean,\n      default: false\n    },\n    fold: {\n      type: Boolean,\n      default: true\n    }\n  },\n  data() {\n    return {\n      balls: createBalls(),\n      listFold: this.fold\n    }\n  },\n  created() {\n    this.dropBalls = []\n  },\n  computed: {\n    totalPrice() {\n      let total = 0\n      this.selectFoods.forEach((food) => {\n        total += food.price * food.count\n      })\n      return total\n    },\n    totalCount() {\n      let count = 0\n      this.selectFoods.forEach((food) => {\n        count += food.count\n      })\n      return count\n    },\n    payDesc() {\n      if (this.totalPrice === 0) {\n        return `￥${this.minPrice}元起送`\n      } else if (this.totalPrice < this.minPrice) {\n        let diff = this.minPrice - this.totalPrice\n        return `还差￥${diff}元起送`\n      } else {\n        return '去结算'\n      }\n    },\n    payClass() {\n      if (!this.totalCount || this.totalPrice < this.minPrice) {\n        return 'not-enough'\n      } else {\n        return 'enough'\n      }\n    }\n  },\n  // 列表收起 展开\n  // listFold 默认为false （不展开）\n  methods: {\n    toggleList() {\n      if (this.listFold) {\n        if (!this.totalCount) {\n          return\n        }\n        this.listFold = false\n        this._showShopCartList()\n        this._showShopCartSticky()\n      } else {\n        this.listFold = true\n        this._hideShopCartList()\n      }\n    },\n    pay(e) {\n      if (this.totalPrice < this.minPrice) {\n        return\n      }\n      this.$createDialog({\n        title: '支付',\n        content: `您需要支付${this.totalPrice}元`\n      }).show()\n      e.stopPropagation()\n    },\n    // 接收参数el: 按钮位置\n    // drop 函数是从 balls 中找到第一个 show 为 false 的 ball，放到 dropBalls 里然后就 return 了，并没有显示所有球\n    drop(el) {\n      for (let i = 0; i < this.balls.length; i++) {\n        const ball = this.balls[i]\n        if (!ball.show) {\n          ball.show = true\n          ball.el = el\n          this.dropBalls.push(ball)\n          return\n        }\n      }\n    },\n    // 当前正在做动画的一个小球元素\n    // beforeDrop 的时候，el.style.display 为 none，需要显示的把它设置为 ''\n    beforeDrop(el) {\n      const ball = this.dropBalls[this.dropBalls.length - 1]\n      const rect = ball.el.getBoundingClientRect()\n      const x = rect.left - 32\n      const y = -(window.innerHeight - rect.top - 22)\n      el.style.display = ''\n      // beforeDrop 函数里设置 transform 就是把小球从原本购物车的位置移动到按钮位置\n      el.style.transform = el.style.webkitTransform = `translate3d(0,${y}px,0)`\n      const inner = el.getElementsByClassName(innerClsHook)[0]\n      inner.style.transform = inner.style.webkitTransform = `translate3d(${x}px,0,0)`\n    },\n    // 执行完成后会执行done\n    dropping(el, done) {\n      // 页面重绘\n      this._reflow = document.body.offsetHeight\n      // 在 dropping 函数就是把小球从按钮位置移动到购物车位置\n      el.style.transform = el.style.webkitTransform = 'translate3d(0,0,0)'\n      const inner = el.getElementsByClassName(innerClsHook)[0]\n      inner.style.transform = inner.style.webkitTransform = 'translate3d(0,0,0)'\n      el.addEventListener('transitionend', done)\n    },\n    afterDrop(el) {\n      const ball = this.dropBalls.shift()\n      if (ball) {\n        ball.show = false\n        el.style.display = 'none'\n      }\n    },\n    _showShopCartList() {\n      this.shopCartListComp = this.shopCartListComp || this.$createShopCartList({\n        $props: {\n          selectFoods: 'selectFoods'\n        },\n        $events: {\n          leave: () => {\n            this._hideShopCartSticky()\n          },\n          hide: () => {\n            this.listFold = true\n          },\n          add: (el) => {\n            this.shopCartStickyComp.drop(el)\n          }\n        }\n      })\n      this.shopCartListComp.show()\n    },\n    _showShopCartSticky() {\n      this.shopCartStickyComp = this.shopCartStickyComp || this.$createShopCartSticky({\n        $props: {\n          selectFoods: 'selectFoods',\n          deliveryPrice: 'deliveryPrice',\n          minPrice: 'minPrice',\n          fold: 'listFold',\n          list: this.shopCartListComp\n        }\n      })\n      this.shopCartStickyComp.show()\n    },\n    _hideShopCartList() {\n      const list = this.sticky ? this.$parent.list : this.shopCartListComp\n      list.hide && list.hide()\n    },\n    _hideShopCartSticky() {\n      this.shopCartStickyComp.hide()\n    }\n  },\n  watch: {\n    fold(newVal) {\n      this.listFold = newVal\n    },\n    totalCount(count) {\n      if (!this.fold && count === 0) {\n        this._hideShopCartList()\n      }\n    }\n  },\n  components: {\n    Bubble\n  }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n@import \"~common/stylus/mixin\"\n@import \"~common/stylus/variable\"\n\n.shopcart\n  height: 100%\n  .content\n    display: flex\n    background: $color-background\n    font-size: 0\n    color: $color-light-grey\n    .content-left\n      flex: 1\n      .logo-wrapper\n        display: inline-block\n        vertical-align: top\n        position: relative\n        top: -10px\n        margin: 0 12px\n        padding: 6px\n        width: 56px\n        height: 56px\n        box-sizing: border-box\n        border-radius: 50%\n        background: $color-background\n        .logo\n          width: 100%\n          height: 100%\n          border-radius: 50%\n          text-align: center\n          background: $color-dark-grey\n          &.highlight\n            background: $color-blue\n          .icon-shopping_cart\n            line-height: 44px\n            font-size: $fontsize-large-xxx\n            color: $color-light-grey\n            &.highlight\n              color: $color-white\n        .num\n          position: absolute\n          top: 0\n          right: 0\n      .price\n        display: inline-block\n        vertical-align: top\n        margin-top: 12px\n        line-height: 24px\n        padding-right: 12px\n        box-sizing: border-box\n        border-right: 1px solid rgba(255, 255, 255, 0.1)\n        font-weight: 700\n        font-size: $fontsize-large\n        &.highlight\n          color: $color-white\n      .desc\n        display: inline-block\n        vertical-align: top\n        margin: 12px 0 0 12px\n        line-height: 24px\n        font-size: $fontsize-small-s\n    .content-right\n      flex: 0 0 105px\n      width: 105px\n      .pay\n        height: 48px\n        line-height: 48px\n        text-align: center\n        font-weight: 700\n        font-size: $fontsize-small\n        &.not-enough\n          background: $color-dark-grey\n        &.enough\n          background: $color-green\n          color: $color-white\n  .ball-container\n    .ball\n      position: fixed\n      left: 32px\n      bottom: 22px\n      z-index: 200\n      transition: all 0.4s cubic-bezier(0.49, -0.29, 0.75, 0.41)\n      .inner\n        width: 16px\n        height: 16px\n        border-radius: 50%\n        background: $color-blue\n        transition: all 0.4s linear\n</style>\n"],"sourceRoot":"src/components/shop-cart"}]}