{"remainingRequest":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/LXIN/Desktop/vue-sell-cube/src/components/food/food.vue?vue&type=style&index=0&id=61f64414&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/LXIN/Desktop/vue-sell-cube/src/components/food/food.vue","mtime":1612766402695},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIn5jb21tb24vc3R5bHVzL3ZhcmlhYmxlIgpAaW1wb3J0ICJ+Y29tbW9uL3N0eWx1cy9taXhpbi5zdHlsIgoKLmZvb2QKICBwb3NpdGlvbjogZml4ZWQKICBsZWZ0OiAwCiAgdG9wOiAwCiAgYm90dG9tOiA0OHB4CiAgei1pbmRleDogMzAKICB3aWR0aDogMTAwJQogIGJhY2tncm91bmQ6ICRjb2xvci13aGl0ZQogICYubW92ZS1lbnRlci1hY3RpdmUsICYubW92ZS1sZWF2ZS1hY3RpdmUKICAgIHRyYW5zaXRpb246IGFsbCAwLjNzIGxpbmVhcgogICYubW92ZS1lbnRlciwgJi5tb3ZlLWxlYXZlLWFjdGl2ZQogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgxMDAlLCAwLCAwKQogIC5pbWFnZS1oZWFkZXIKICAgIHBvc2l0aW9uOiByZWxhdGl2ZQogICAgd2lkdGg6IDEwMCUKICAgIGhlaWdodDogMAogICAgcGFkZGluZy10b3A6IDEwMCUKICAgIGltZwogICAgICBwb3NpdGlvbjogYWJzb2x1dGUKICAgICAgdG9wOiAwCiAgICAgIGxlZnQ6IDAKICAgICAgd2lkdGg6IDEwMCUKICAgICAgaGVpZ2h0OiAxMDAlCiAgICAuYmFjawogICAgICBwb3NpdGlvbjogYWJzb2x1dGUKICAgICAgdG9wOiAxMHB4CiAgICAgIGxlZnQ6IDAKICAgICAgLmljb24tYXJyb3dfbGlmdAogICAgICAgIGRpc3BsYXk6IGJsb2NrCiAgICAgICAgcGFkZGluZzogMTBweAogICAgICAgIGZvbnQtc2l6ZTogJGZvbnRzaXplLWxhcmdlLXh4CiAgICAgICAgY29sb3I6ICRjb2xvci13aGl0ZQoKICAuY29udGVudAogICAgcG9zaXRpb246IHJlbGF0aXZlCiAgICBwYWRkaW5nOiAxOHB4CiAgICAudGl0bGUKICAgICAgbGluZS1oZWlnaHQ6IDE0cHgKICAgICAgbWFyZ2luLWJvdHRvbTogOHB4CiAgICAgIGZvbnQtc2l6ZTogJGZvbnRzaXplLW1lZGl1bQogICAgICBmb250LXdlaWdodDogNzAwCiAgICAgIGNvbG9yOiAkY29sb3ItZGFyay1ncmV5CiAgICAuZGV0YWlsCiAgICAgIG1hcmdpbi1ib3R0b206IDE4cHgKICAgICAgbGluZS1oZWlnaHQ6IDEwcHgKICAgICAgaGVpZ2h0OiAxMHB4CiAgICAgIC5zZWxsLWNvdW50LCAucmF0aW5nCiAgICAgICAgZm9udC1zaXplOiAkZm9udHNpemUtc21hbGwtcwogICAgICAgIGNvbG9yOiAkY29sb3ItbGlnaHQtZ3JleQogICAgICAuc2VsbC1jb3VudAogICAgICAgIG1hcmdpbi1yaWdodDogMTJweAogICAgLnByaWNlCiAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4CiAgICAgIGZvbnQtd2VpZ2h0OiA3MDAKICAgICAgLm5vdwogICAgICAgIG1hcmdpbi1yaWdodDogOHB4CiAgICAgICAgZm9udC1zaXplOiAxNHB4CiAgICAgICAgY29sb3I6ICRjb2xvci1yZWQKICAgICAgLm9sZAogICAgICAgIHRleHQtZGVjb3JhdGlvbjogbGluZS10aHJvdWdoCiAgICAgICAgZm9udC1zaXplOiAkZm9udHNpemUtc21hbGwtcwogICAgICAgIGNvbG9yOiAkY29sb3ItbGlnaHQtZ3JleQogICAgLmNhcnQtY29udHJvbC13cmFwcGVyCiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZQogICAgICByaWdodDogMTJweAogICAgICBib3R0b206IDEycHgKICAgIC5idXkKICAgICAgcG9zaXRpb246IGFic29sdXRlCiAgICAgIHJpZ2h0OiAxOHB4CiAgICAgIGJvdHRvbTogMThweAogICAgICB6LWluZGV4OiAxMAogICAgICBoZWlnaHQ6IDI0cHgKICAgICAgbGluZS1oZWlnaHQ6IDI0cHgKICAgICAgcGFkZGluZzogMCAxMnB4CiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3gKICAgICAgYm9yZGVyLXJhZGl1czogMTJweAogICAgICBmb250LXNpemU6ICRmb250c2l6ZS1zbWFsbC1zCiAgICAgIGNvbG9yOiAkY29sb3Itd2hpdGUKICAgICAgYmFja2dyb3VuZDogJGNvbG9yLWJsdWUKICAgICAgb3BhY2l0eTogMQogICAgICAmLmZhZGUtZW50ZXItYWN0aXZlLCAmLmZhZGUtbGVhdmUtYWN0aXZlCiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuM3MKICAgICAgJi5mYWRlLWVudGVyLCAmLmZhZGUtbGVhdmUtYWN0aXZlCiAgICAgICAgb3BhY2l0eTogMAogICAgICAgIHotaW5kZXg6IC0xCiAgLmluZm8KICAgIHBhZGRpbmc6IDE4cHgKICAgIC50aXRsZQogICAgICBsaW5lLWhlaWdodDogMTRweAogICAgICBtYXJnaW4tYm90dG9tOiA2cHgKICAgICAgZm9udC1zaXplOiAkZm9udHNpemUtbWVkaXVtCiAgICAgIGNvbG9yOiAkY29sb3ItZGFyay1ncmV5CiAgICAudGV4dAogICAgICBsaW5lLWhlaWdodDogMjRweAogICAgICBwYWRkaW5nOiAwIDhweAogICAgICBmb250LXNpemU6ICRmb250c2l6ZS1zbWFsbAogICAgICBjb2xvcjogJGNvbG9yLWdyZXkKICAucmF0aW5nCiAgICBwYWRkaW5nLXRvcDogMThweAogICAgLnRpdGxlCiAgICAgIGxpbmUtaGVpZ2h0OiAxNHB4CiAgICAgIG1hcmdpbi1sZWZ0OiAxOHB4CiAgICAgIGZvbnQtc2l6ZTogJGZvbnRzaXplLW1lZGl1bQogICAgICBjb2xvcjogJGNvbG9yLWRhcmstZ3JleQogICAgLnJhdGluZy13cmFwcGVyCiAgICAgIHBhZGRpbmc6IDAgMThweAogICAgICAucmF0aW5nLWl0ZW0KICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmUKICAgICAgICBwYWRkaW5nOiAxNnB4IDAKICAgICAgICAmOmxhc3QtY2hpbGQKICAgICAgICAgIGJvcmRlci1ub25lKCkKICAgICAgICAudXNlcgogICAgICAgICAgcG9zaXRpb246IGFic29sdXRlCiAgICAgICAgICByaWdodDogMAogICAgICAgICAgdG9wOiAxNnB4CiAgICAgICAgICBkaXNwbGF5OiBmbGV4CiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyCiAgICAgICAgICBsaW5lLWhlaWdodDogMTJweAogICAgICAgICAgLm5hbWUKICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA2cHgKICAgICAgICAgICAgZm9udC1zaXplOiAkZm9udHNpemUtc21hbGwtcwogICAgICAgICAgICBjb2xvcjogJGNvbG9yLWxpZ2h0LWdyZXkKICAgICAgICAgIC5hdmF0YXIKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlCiAgICAgICAgLnRpbWUKICAgICAgICAgIG1hcmdpbi1ib3R0b206IDZweAogICAgICAgICAgbGluZS1oZWlnaHQ6IDEycHgKICAgICAgICAgIGZvbnQtc2l6ZTogJGZvbnRzaXplLXNtYWxsLXMKICAgICAgICAgIGNvbG9yOiAkY29sb3ItbGlnaHQtZ3JleQogICAgICAgIC50ZXh0CiAgICAgICAgICBsaW5lLWhlaWdodDogMTZweAogICAgICAgICAgZm9udC1zaXplOiAkZm9udHNpemUtc21hbGwKICAgICAgICAgIGNvbG9yOiAkY29sb3ItZGFyay1ncmV5CiAgICAgICAgICAuaWNvbi10aHVtYl91cCwgLmljb24tdGh1bWJfZG93bgogICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDRweAogICAgICAgICAgICBsaW5lLWhlaWdodDogMTZweAogICAgICAgICAgICBmb250LXNpemU6ICRmb250c2l6ZS1zbWFsbAogICAgICAgICAgLmljb24tdGh1bWJfdXAKICAgICAgICAgICAgY29sb3I6ICRjb2xvci1ibHVlCiAgICAgICAgICAuaWNvbi10aHVtYl9kb3duCiAgICAgICAgICAgIGNvbG9yOiAkY29sb3ItbGlnaHQtZ3JleQoKICAgICAgLm5vLXJhdGluZwogICAgICAgIHBhZGRpbmc6IDE2cHggMAogICAgICAgIGZvbnQtc2l6ZTogJGZvbnRzaXplLXNtYWxsCiAgICAgICAgY29sb3I6ICRjb2xvci1saWdodC1ncmV5Cg=="},{"version":3,"sources":["food.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2IA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"food.vue","sourceRoot":"src/components/food","sourcesContent":["<template>\n  <transition\n    name=\"move\"\n    @after-leave=\"afterLeave\"\n  >\n    <div class=\"food\" v-show=\"visible\">\n      <cube-scroll ref=\"scroll\">\n        <div class=\"food-content\">\n          <div class=\"image-header\">\n            <img :src=\"food.image\">\n            <div class=\"back\" @click=\"hide\">\n              <i class=\"icon-arrow_lift\"></i>\n            </div>\n          </div>\n          <div class=\"content\">\n            <h1 class=\"title\">{{food.name}}</h1>\n            <div class=\"detail\">\n              <span class=\"sell-count\">月售{{food.sellCount}}份</span>\n              <span class=\"rating\">好评率{{food.rating}}%</span>\n            </div>\n            <div class=\"price\">\n              <span class=\"now\">￥{{food.price}}</span><span class=\"old\" v-show=\"food.oldPrice\">￥{{food.oldPrice}}</span>\n            </div>\n            <div class=\"cart-control-wrapper\">\n              <cart-control @add=\"addFood\" :food=\"food\"></cart-control>\n            </div>\n            <transition name=\"fade\">\n              <div @click=\"addFirst\" class=\"buy\" v-show=\"!food.count\">\n                加入购物车\n              </div>\n            </transition>\n          </div>\n          <split v-show=\"food.info\"></split>\n          <div class=\"info\" v-show=\"food.info\">\n            <h1 class=\"title\">商品信息</h1>\n            <p class=\"text\">{{food.info}}</p>\n          </div>\n          <split></split>\n          <div class=\"rating\">\n            <h1 class=\"title\">商品评价</h1>\n            <rating-select\n              @select=\"onSelect\"\n              @toggle=\"onToggle\"\n              :selectType=\"selectType\"\n              :onlyContent=\"onlyContent\"\n              :desc=\"desc\"\n              :ratings=\"ratings\">\n            </rating-select>\n            <div class=\"rating-wrapper\">\n              <ul v-show=\"computedRatings && computedRatings.length\">\n                <li\n                  v-for=\"(rating,index) in computedRatings\"\n                  class=\"rating-item border-bottom-1px\"\n                  :key=\"index\"\n                >\n                  <div class=\"user\">\n                    <span class=\"name\">{{rating.username}}</span>\n                    <img class=\"avatar\" width=\"12\" height=\"12\" :src=\"rating.avatar\">\n                  </div>\n                  <div class=\"time\">{{format(rating.rateTime)}}</div>\n                  <p class=\"text\">\n                    <span :class=\"{'icon-thumb_up':rating.rateType===0,'icon-thumb_down':rating.rateType===1}\"></span>{{rating.text}}\n                  </p>\n                </li>\n              </ul>\n              <div class=\"no-rating\" v-show=\"!computedRatings || !computedRatings.length\">暂无评价</div>\n            </div>\n          </div>\n        </div>\n      </cube-scroll>\n    </div>\n  </transition>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import moment from 'moment'\n  import CartControl from 'components/cart-control/cart-control'\n  import RatingSelect from 'components/rating-select/rating-select'\n  import Split from 'components/split/split'\n  import ratingMixin from 'common/mixins/rating'\n  import popupMixin from 'common/mixins/popup'\n  const EVENT_SHOW = 'show'\n  const EVENT_ADD = 'add'\n  const EVENT_LEAVE = 'leave'\n  export default {\n    name: 'food',\n    mixins: [ratingMixin, popupMixin],\n    props: {\n      food: {\n        type: Object\n      }\n    },\n    data() {\n      return {\n        onlyContent: true,\n        desc: {\n          all: '全部',\n          positive: '推荐',\n          negative: '吐槽'\n        }\n      }\n    },\n    computed: {\n      ratings() {\n        return this.food.ratings\n      }\n    },\n    created () {\n      this.$on(EVENT_SHOW, () => {\n        this.$nextTick(() => {\n          this.$refs.scroll.refresh()\n        })\n      })\n    },\n    methods: {\n      afterLeave () {\n        this.$emit(EVENT_LEAVE)\n      },\n      addFirst(event) {\n        this.$set(this.food, 'count', 1)\n        this.$emit(EVENT_ADD, event.target)\n      },\n      addFood(target) {\n        this.$emit(EVENT_ADD, target)\n      },\n      format(time) {\n        return moment(time).format('YYYY-MM-DD hh:mm')\n      }\n    },\n    components: {\n      CartControl,\n      RatingSelect,\n      Split\n    }\n  }\n\n</script>\n\n<style lang=\"stylus\" scoped>\n@import \"~common/stylus/variable\"\n@import \"~common/stylus/mixin.styl\"\n\n.food\n  position: fixed\n  left: 0\n  top: 0\n  bottom: 48px\n  z-index: 30\n  width: 100%\n  background: $color-white\n  &.move-enter-active, &.move-leave-active\n    transition: all 0.3s linear\n  &.move-enter, &.move-leave-active\n    transform: translate3d(100%, 0, 0)\n  .image-header\n    position: relative\n    width: 100%\n    height: 0\n    padding-top: 100%\n    img\n      position: absolute\n      top: 0\n      left: 0\n      width: 100%\n      height: 100%\n    .back\n      position: absolute\n      top: 10px\n      left: 0\n      .icon-arrow_lift\n        display: block\n        padding: 10px\n        font-size: $fontsize-large-xx\n        color: $color-white\n\n  .content\n    position: relative\n    padding: 18px\n    .title\n      line-height: 14px\n      margin-bottom: 8px\n      font-size: $fontsize-medium\n      font-weight: 700\n      color: $color-dark-grey\n    .detail\n      margin-bottom: 18px\n      line-height: 10px\n      height: 10px\n      .sell-count, .rating\n        font-size: $fontsize-small-s\n        color: $color-light-grey\n      .sell-count\n        margin-right: 12px\n    .price\n      line-height: 24px\n      font-weight: 700\n      .now\n        margin-right: 8px\n        font-size: 14px\n        color: $color-red\n      .old\n        text-decoration: line-through\n        font-size: $fontsize-small-s\n        color: $color-light-grey\n    .cart-control-wrapper\n      position: absolute\n      right: 12px\n      bottom: 12px\n    .buy\n      position: absolute\n      right: 18px\n      bottom: 18px\n      z-index: 10\n      height: 24px\n      line-height: 24px\n      padding: 0 12px\n      box-sizing: border-box\n      border-radius: 12px\n      font-size: $fontsize-small-s\n      color: $color-white\n      background: $color-blue\n      opacity: 1\n      &.fade-enter-active, &.fade-leave-active\n        transition: all 0.3s\n      &.fade-enter, &.fade-leave-active\n        opacity: 0\n        z-index: -1\n  .info\n    padding: 18px\n    .title\n      line-height: 14px\n      margin-bottom: 6px\n      font-size: $fontsize-medium\n      color: $color-dark-grey\n    .text\n      line-height: 24px\n      padding: 0 8px\n      font-size: $fontsize-small\n      color: $color-grey\n  .rating\n    padding-top: 18px\n    .title\n      line-height: 14px\n      margin-left: 18px\n      font-size: $fontsize-medium\n      color: $color-dark-grey\n    .rating-wrapper\n      padding: 0 18px\n      .rating-item\n        position: relative\n        padding: 16px 0\n        &:last-child\n          border-none()\n        .user\n          position: absolute\n          right: 0\n          top: 16px\n          display: flex\n          align-items: center\n          line-height: 12px\n          .name\n            margin-right: 6px\n            font-size: $fontsize-small-s\n            color: $color-light-grey\n          .avatar\n            border-radius: 50%\n        .time\n          margin-bottom: 6px\n          line-height: 12px\n          font-size: $fontsize-small-s\n          color: $color-light-grey\n        .text\n          line-height: 16px\n          font-size: $fontsize-small\n          color: $color-dark-grey\n          .icon-thumb_up, .icon-thumb_down\n            margin-right: 4px\n            line-height: 16px\n            font-size: $fontsize-small\n          .icon-thumb_up\n            color: $color-blue\n          .icon-thumb_down\n            color: $color-light-grey\n\n      .no-rating\n        padding: 16px 0\n        font-size: $fontsize-small\n        color: $color-light-grey\n</style>\n"]}]}