{"remainingRequest":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/LXIN/Desktop/vue-sell-cube/src/components/ratings/ratings.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/LXIN/Desktop/vue-sell-cube/src/components/ratings/ratings.vue","mtime":1612929798789},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/LXIN/Desktop/vue-sell-cube/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBTdGFyIGZyb20gJ2NvbXBvbmVudHMvc3Rhci9zdGFyJwppbXBvcnQgUmF0aW5nU2VsZWN0IGZyb20gJ2NvbXBvbmVudHMvcmF0aW5nLXNlbGVjdC9yYXRpbmctc2VsZWN0JwppbXBvcnQgU3BsaXQgZnJvbSAnY29tcG9uZW50cy9zcGxpdC9zcGxpdCcKaW1wb3J0IHJhdGluZ01peGluIGZyb20gJ2NvbW1vbi9taXhpbnMvcmF0aW5nJwppbXBvcnQgeyBnZXRSYXRpbmdzIH0gZnJvbSAnYXBpJwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAncmF0aW5ncycsCiAgbWl4aW5zOiBbcmF0aW5nTWl4aW5dLAogIHByb3BzOiB7CiAgICBkYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdAogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJhdGluZ3M6IFtdLAogICAgICBzY3JvbGxPcHRpb25zOiB7CiAgICAgICAgY2xpY2s6IGZhbHNlLAogICAgICAgIGRpcmVjdGlvbkxvY2tUaHJlc2hvbGQ6IDAKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHNlbGxlcigpIHsKICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zZWxsZXIgfHwge30KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoICgpIHsKICAgICAgaWYgKCF0aGlzLmZldGNoZWQpIHsKICAgICAgICB0aGlzLmZldGNoZWQgPSB0cnVlCiAgICAgICAgZ2V0UmF0aW5ncyh7CiAgICAgICAgICBpZDogdGhpcy5zZWxsZXIuaWQKICAgICAgICB9KS50aGVuKChyYXRpbmdzKSA9PiB7CiAgICAgICAgICB0aGlzLnJhdGluZ3MgPSByYXRpbmdzCiAgICAgICAgfSkKICAgICAgfQogICAgfSwKICAgIGZvcm1hdCh0aW1lKSB7CiAgICAgIHJldHVybiBtb21lbnQodGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIGhoOm1tJykKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIFN0YXIsCiAgICBTcGxpdCwKICAgIFJhdGluZ1NlbGVjdAogIH0sCiAgd2F0Y2g6IHsKICAgIHNlbGVjdFR5cGUoKSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICB0aGlzLiRyZWZzLnNjcm9sbC5yZWZyZXNoKCkKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["ratings.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ratings.vue","sourceRoot":"src/components/ratings","sourcesContent":["<template>\n  <cubu-scroll ref=\"scroll\" class=\"ratings\" :options=\"scrollOptions\">\n    <div class=\"ratings-content\">\n      <div class=\"overview\">\n        <div class=\"overview-left\">\n          <h1 class=\"score\">{{seller.score}}</h1>\n          <div class=\"title\">{{综合评分}}</div>\n          <div class=\"rank\">高于周边商家{{seller.rankRate}}%</div>\n        </div>\n        <div class=\"overview-right\">\n          <div class=\"score-wrapper\">\n            <span class=\"title\">服务态度</span>\n            <star :size=\"36\" :score=\"seller.serviceScore\"></star>\n            <span class=\"score\">{{seller.serviceScore}}</span>\n          </div>\n          <div class=\"score-wrapper\">\n            <span class=\"title\">商品评分</span>\n            <star :size=\"36\" :score=\"seller.foodScore\"></star>\n            <span class=\"score\">{{seller.foodScore}}</span>\n          </div>\n          <div class=\"delivery-wrapper\">\n            <span class=\"title\">送达时间</span>\n            <span class=\"delivery\">{{seller.deliveryTime}}分钟</span>\n          </div>\n        </div>\n      </div>\n      <split></split>\n      <rating-select\n        @select=\"onSelect\"\n        @toggle=\"onToggle\"\n        :selectType=\"selectType\"\n        :ratings=\"ratings\"\n      ></rating-select>\n      <div class=\"rating-wrapper\">\n        <ul>\n          <li\n            v-for=\"(rating,index) in computedRatings\"\n            :key=\"index\"\n            class=\"rating=item border-bottom-1px\"\n          >\n            <div class=\"avatar\">\n              <img width=\"28\" height=\"28\" :src=\"rating.avatar\">\n            </div>\n            <div class=\"content\">\n              <h1 class=\"name\">{{rating.username}}</h1>\n              <div class=\"star-wrapper\">\n                <star :size=\"24\" :score=\"rating.score\"></star>\n                <span class=\"delivery\" v-show=\"rating.deliveryTime\">{{rating.deliveryTime}}</span>\n              </div>\n              <p class=\"text\">{{rating.text}}</p>\n              <div class=\"recommend\" v-show=\"rating.recommend && rating.recommend.length\">\n                <span\n                  class=\"item\"\n                  v-for=\"(item,index) in rating.recommend\"\n                  :key=\"index\"\n                >\n                  {{item}}\n                </span>\n              </div>\n              <div class=\"time\">\n                {{format(rating.rateTime)}}\n              </div>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </cubu-scroll>\n</template>\n\n<script type=\"text/ecmascript-6\">\n  import Star from 'components/star/star'\n  import RatingSelect from 'components/rating-select/rating-select'\n  import Split from 'components/split/split'\n  import ratingMixin from 'common/mixins/rating'\n  import { getRatings } from 'api'\n  import moment from 'moment'\n\n  export default {\n    name: 'ratings',\n    mixins: [ratingMixin],\n    props: {\n      data: {\n        type: Object\n      }\n    },\n    data() {\n      return {\n        ratings: [],\n        scrollOptions: {\n          click: false,\n          directionLockThreshold: 0\n        }\n      }\n    },\n    computed: {\n      seller() {\n        return this.data.seller || {}\n      }\n    },\n    methods: {\n      fetch () {\n        if (!this.fetched) {\n          this.fetched = true\n          getRatings({\n            id: this.seller.id\n          }).then((ratings) => {\n            this.ratings = ratings\n          })\n        }\n      },\n      format(time) {\n        return moment(time).format('YYYY-MM-DD hh:mm')\n      }\n    },\n    components: {\n      Star,\n      Split,\n      RatingSelect\n    },\n    watch: {\n      selectType() {\n        this.$nextTick(() => {\n          this.$refs.scroll.refresh()\n        })\n      }\n    }\n  }\n</script>\n\n<style lang=\"stylus\" scoped>\n  @import \"~common/stylus/variable\"\n  @import \"~common/stylus/mixin\"\n  .ratings\n    position relative\n    text-align left\n    white-space normal\n    height 100%\n    .overview\n      display flex\n      padding 18px 0\n      .overview-left\n        flex 0 0 137px\n        padding 6px 0\n        width 137px\n        border-right 1px solid $color-col-line\n        text-align center\n        @media only screen and (max-width 320px)\n          flex 0 0 120px\n          width 120px\n        .score\n          margin-bottom 6px\n          line-height 12px\n          font-size $fontsize-large-xxx\n          color $color-orange\n        .title\n          margin-bottom 8px\n          line-height 12px\n          font-size $fontsize-small\n          color $color-dark-grey\n        .rank\n          line-height 10px\n          font-size $fontsize-small\n          color $color-light-grey\n        .overview-right\n          flex 1\n          padding 6px 0 6px 24px\n          // max-width 最大宽度\n          // 媒体查询（Media queries），当你想要根据设备的大致类型（如打印设备与带屏幕的设备）或者特定的特征和设备参数（例如屏幕分辨率和浏览器视窗宽度）来修改网站或应用程序时\n          @media only screen and (max-width 320px)\n            padding-left 6px\n          .score-wrapper\n            display flex\n            align-items center\n            margin-bottom 8px\n            .title\n              line-height 18px\n              font-size $fontsize-small\n              color $color-dark-grey\n</style>\n"]}]}